<!DOCTYPE html>
<html>
  <head>
    <title>Quiz</title>
    <style>
      /* ======================= Variables ======================= */
      :root {
        --bg: #0b0f17;
        --panel: #0f1522;
        --panel-contrast: #121a2a;
        --text: #e8eefc;
        --muted: #9fb0cf;
        --accent: #7aa2ff;
        --accent-2: #54e1c2;
        --ring: #8bb3ff;
        --shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
        --radius: 20px;
        --speed: 700ms;
        --outline: 2px solid var(--ring);
        --grid: rgba(255, 255, 255, 0.06);
        --gap: clamp(16px, 3vw, 32px);
        --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter,
          "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
          "Segoe UI Emoji";
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: var(--font);
        background: radial-gradient(
          1200px 600px at 80% -10%,
          #182038 0%,
          var(--bg) 55%
        );
        color: var(--text);
        min-height: 100vh;
        padding: 40px;
      }

      h2 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 32px;
        color: var(--accent);
      }

      /* Quiz form container */
      #quiz-form {
        max-width: 800px;
        margin: 0 auto;
        background: var(--panel);
        padding: 30px;
        border-radius: var(--radius);
        box-shadow: var(--shadow);
      }

      .question {
        margin-bottom: 20px;
        padding: 16px;
        border-radius: 12px;
        background: var(--panel-contrast);
      }

      .question p {
        font-size: 18px;
        margin-bottom: 12px;
        color: var(--accent-2);
        font-weight: 600;
      }

      label {
        display: block;
        padding: 8px 12px;
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: 0.25s ease;
      }

      label:hover {
        background: rgba(122, 162, 255, 0.1);
        border-color: var(--accent);
      }

      input[type="radio"] {
        margin-right: 10px;
        accent-color: var(--accent);
      }

      /* Submit button */
      #submit-quiz {
        display: block;
        margin: 30px auto 0;
        padding: 14px 28px;
        font-size: 18px;
        background: linear-gradient(90deg, var(--accent), var(--accent-2));
        color: #08111a;
        border: none;
        border-radius: var(--radius);
        cursor: pointer;
        font-weight: 700;
        transition: transform 0.1s ease, filter 0.2s;
        box-shadow: 0 10px 18px rgba(84, 225, 194, 0.2),
          0 8px 16px rgba(122, 162, 255, 0.15);
      }

      #submit-quiz:hover {
        filter: brightness(1.1);
      }

      #submit-quiz:active {
        transform: translateY(1px) scale(0.98);
      }
    </style>
  </head>
  <body>
    <h2>Quiz</h2>
    <form id="quiz-form"></form>
    <button id="submit-quiz">Submit Quiz</button>

    <script>
      const quizForm = document.getElementById("quiz-form");
      const subject = localStorage.getItem("quizSubject") || "math";

      // Sample questions for 3 subjects (10 each)
      const questionsData = {
        math: [
          { q: "2 + 2 = ?", options: ["3", "4", "5", "6"], answer: "4" },
          { q: "5 * 3 = ?", options: ["8", "15", "10", "12"], answer: "15" },
          {
            q: "Square root of 16?",
            options: ["2", "3", "4", "5"],
            answer: "4",
          },
          { q: "10 / 2 = ?", options: ["2", "4", "5", "6"], answer: "5" },
          { q: "7 + 8 = ?", options: ["14", "15", "16", "13"], answer: "15" },
          { q: "9 - 3 = ?", options: ["5", "6", "7", "8"], answer: "6" },
          { q: "3^2 = ?", options: ["6", "9", "12", "8"], answer: "9" },
          { q: "12 / 4 = ?", options: ["2", "3", "4", "5"], answer: "3" },
          { q: "6 * 2 = ?", options: ["10", "12", "14", "16"], answer: "12" },
          { q: "15 - 7 = ?", options: ["7", "8", "9", "6"], answer: "8" },
        ],
        science: [
          {
            q: "Water formula?",
            options: ["H2O", "CO2", "O2", "H2"],
            answer: "H2O",
          },
          {
            q: "Sun is a?",
            options: ["Planet", "Star", "Moon", "Asteroid"],
            answer: "Star",
          },
          {
            q: "Gravity on Earth?",
            options: ["9.8 m/s²", "10 m/s²", "8 m/s²", "12 m/s²"],
            answer: "9.8 m/s²",
          },
          {
            q: "H2 + O2 makes?",
            options: ["Water", "Oxygen", "Hydrogen", "Salt"],
            answer: "Water",
          },
          {
            q: "Human heart has?",
            options: ["2 chambers", "4 chambers", "3 chambers", "1 chamber"],
            answer: "4 chambers",
          },
          {
            q: "Photosynthesis happens in?",
            options: ["Roots", "Stem", "Leaves", "Flowers"],
            answer: "Leaves",
          },
          {
            q: "Earth revolves around?",
            options: ["Moon", "Sun", "Mars", "Venus"],
            answer: "Sun",
          },
          {
            q: "Boiling point of water?",
            options: ["100°C", "90°C", "80°C", "120°C"],
            answer: "100°C",
          },
          {
            q: "Gas we breathe?",
            options: ["Oxygen", "Hydrogen", "CO2", "Nitrogen"],
            answer: "Oxygen",
          },
          {
            q: "Light travels fastest in?",
            options: ["Air", "Water", "Vacuum", "Glass"],
            answer: "Vacuum",
          },
        ],
        history: [
          {
            q: "Who discovered America?",
            options: ["Columbus", "Newton", "Einstein", "Galileo"],
            answer: "Columbus",
          },
          {
            q: "World War I started in?",
            options: ["1914", "1918", "1939", "1945"],
            answer: "1914",
          },
          {
            q: "Who was Gandhi?",
            options: ["Leader", "Scientist", "President", "Actor"],
            answer: "Leader",
          },
          {
            q: "French Revolution year?",
            options: ["1789", "1776", "1800", "1799"],
            answer: "1789",
          },
          {
            q: "Great Wall located in?",
            options: ["China", "India", "Egypt", "Greece"],
            answer: "China",
          },
          {
            q: "First President of USA?",
            options: ["Lincoln", "Washington", "Jefferson", "Adams"],
            answer: "Washington",
          },
          {
            q: "Ancient Egypt writing?",
            options: ["Cuneiform", "Hieroglyphics", "Latin", "Greek"],
            answer: "Hieroglyphics",
          },
          {
            q: "Roman Empire capital?",
            options: ["Rome", "Athens", "Cairo", "Paris"],
            answer: "Rome",
          },
          {
            q: "Industrial Revolution started in?",
            options: ["USA", "France", "UK", "Germany"],
            answer: "UK",
          },
          {
            q: "Cold War ended in?",
            options: ["1989", "1990", "1991", "1985"],
            answer: "1991",
          },
        ],
      };

      const questions = questionsData[subject];

      // Render questions
      questions.forEach((q, index) => {
        const div = document.createElement("div");
        div.classList.add("question");

        const questionText = document.createElement("p");
        questionText.innerText = `${index + 1}. ${q.q}`;
        div.appendChild(questionText);

        q.options.forEach((opt) => {
          const label = document.createElement("label");
          const input = document.createElement("input");
          input.type = "radio";
          input.name = `q${index}`;
          input.value = opt;
          label.appendChild(input);
          label.appendChild(document.createTextNode(opt));
          div.appendChild(label);
        });

        quizForm.appendChild(div);
      });

      // Submit quiz
      document.getElementById("submit-quiz").addEventListener("click", () => {
        let score = 0;
        questions.forEach((q, index) => {
          const selected = document.querySelector(
            `input[name="q${index}"]:checked`
          );
          if (selected && selected.value === q.answer) score++;
        });

        const quizRecord = {
          date: new Date().toLocaleString(),
          subject: subject,
          difficulty: localStorage.getItem("quizDifficulty"),
          score: score,
          total: questions.length,
        };

        // Get previous results
        let allResults = JSON.parse(localStorage.getItem("userResults")) || [];
        allResults.push(quizRecord);
        localStorage.setItem("userResults", JSON.stringify(allResults));

        // Redirect to result page
        localStorage.setItem("quizScore", score);
        localStorage.setItem("quizTotal", questions.length);
        window.location.href = "result.html";
      });
    </script>
  </body>
</html>
